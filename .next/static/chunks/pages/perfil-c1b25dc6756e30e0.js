(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{7443:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return r(58)}])},6124:function(e,n,r){"use strict";var t=r(5893),s=r(4679),i=r.n(s),a=r(1664),o=r.n(a),l=r(7294);n.Z=function(){var e=(0,l.useState)(!1),n=e[0],r=e[1],s=1999;return function(){var e=new Date;s=e.getFullYear()}(),(0,t.jsxs)("section",{className:i().footer,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)("img",{src:"../images/logo-invert.png",width:200,alt:"Logo"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["\xa9\ufe0f Copyright ",s]}),(0,t.jsx)("p",{children:"Todos los derechos reservados"})]})]}),(0,t.jsxs)("div",{className:i().footerPagina,children:[(0,t.jsx)("h4",{children:"P\xe1gina"}),(0,t.jsx)(o(),{href:"/estudios",children:"Estudios"}),(0,t.jsx)(o(),{href:"/sucursales",children:"Sucursales"}),(0,t.jsx)(o(),{href:"/blog",children:"Blog"}),(0,t.jsx)(o(),{href:"/nosotros",children:"Nosotros"}),(0,t.jsx)(o(),{href:"/perfil",children:"Resultados"})]}),(0,t.jsxs)("div",{className:i().footerPagina,children:[(0,t.jsx)("h4",{children:"Cuenta"}),(0,t.jsx)(o(),{href:"/perfil",children:"Perfil"}),(0,t.jsx)(o(),{href:"/perfil",children:"Mis Resultados"}),(0,t.jsx)(o(),{href:"/perfil",children:"Facturas"}),(0,t.jsx)(o(),{href:"/legal",children:"Legal"}),(0,t.jsx)(o(),{href:"/politica-privacidad",children:"Politica de Privacidad"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("select",{name:"informes",onChange:function(){r(!n)},id:"informes",defaultValue:"value2",children:[(0,t.jsx)("option",{value:"value1",children:"Quejas"}),(0,t.jsx)("option",{value:"value2",children:"Informes"})]}),(0,t.jsxs)("form",{children:[(0,t.jsx)("input",{placeholder:"Nombre",type:"text"}),(0,t.jsx)("input",{placeholder:"Email",type:"email"}),!n&&(0,t.jsx)("input",{placeholder:"Estudio",type:"text"}),n&&(0,t.jsx)("input",{placeholder:"Queja",type:"text"}),(0,t.jsx)("button",{children:"Enviar"})]})]})]})}},8995:function(e,n,r){"use strict";var t=r(5893),s=r(2901),i=r.n(s),a=r(1664),o=r.n(a);n.Z=function(){return(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)("img",{className:i().logo,src:"/images\\logo.png"})})}},6307:function(e,n,r){"use strict";var t=(0,r(5503).ZF)({apiKey:"AIzaSyAArltJj6v-5JXrNL-IMv0kkneN4wkNe9w",authDomain:"lqglasscms.firebaseapp.com",projectId:"lqglasscms",storageBucket:"lqglasscms.appspot.com",messagingSenderId:"88545366466",appId:"1:88545366466:web:9f498df615c169eebfc65b",measurementId:"G-P4BZ7JZCW7"});n.Z=t},58:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ie}});var t=r(5893),s=(r(8210),r(1102)),i=r.n(s),a=r(7294),o=r(7568),l=r(4051),c=r.n(l),u=r(682),d=r(2641),p=r(5005),h=r(1109),f=r.n(h),x=r(6307),m=r(7702),j=r(6257),v=(0,m.v0)(x.Z);(0,j.ad)(x.Z);var g=function(){var e=(0,a.useState)(!1),n=e[0],r=e[1],s=(0,a.useState)(null),i=(s[0],s[1]);function l(){return(l=(0,o.Z)(c().mark((function e(n){var r,t,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=document.getElementById("formCorreo").value,t=n.target.formContra.value,r&&""!==r.trim()){e.next=6;break}return alert("Por favor ingresa tu correo."),e.abrupt("return");case 6:if(t&&""!==t.trim()){e.next=9;break}return alert("Por favor ingresa tu contrase\xf1a."),e.abrupt("return");case 9:return e.prev=9,e.next=12,(0,m.e5)(v,r,t);case 12:i(!0),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(9),s=e.t0.code,a=e.t0.message,"auth/user-not-found"===s?alert("No se encontr\xf3 un usuario con este correo electr\xf3nico."):"auth/wrong-password"===s?alert("La contrase\xf1a ingresada es incorrecta."):alert(a),i(!1);case 21:case"end":return e.stop()}}),e,null,[[9,15]])})))).apply(this,arguments)}return(0,t.jsxs)(u.Z,{className:f().logComponent,children:[(0,t.jsx)("h1",{children:n?"Registrate":"Iniciar Sesi\xf3n"}),(0,t.jsxs)(d.Z,{onSubmit:function(e){return l.apply(this,arguments)},children:[(0,t.jsxs)(d.Z.Group,{controlId:"formCorreo",children:[(0,t.jsx)(d.Z.Label,{children:"Correo"}),(0,t.jsx)(d.Z.Control,{type:"email",placeholder:"Ingresa tu correo"})]}),!0===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Z.Group,{controlId:"formName",children:[(0,t.jsx)(d.Z.Label,{children:"Nombre"}),(0,t.jsx)(d.Z.Control,{type:"text",placeholder:"Nombre"})]}),(0,t.jsxs)(d.Z.Group,{controlId:"formLName",children:[(0,t.jsx)(d.Z.Label,{children:"Apellidos"}),(0,t.jsx)(d.Z.Control,{type:"text",placeholder:"Apellidos"})]})]}),(0,t.jsxs)(d.Z.Group,{controlId:"formContra",children:[(0,t.jsx)(d.Z.Label,{children:"Contrase\xf1a"}),(0,t.jsx)(d.Z.Control,{type:"password",placeholder:"Contrase\xf1a"})]}),!0===n&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(d.Z.Group,{controlId:"formContraDos",children:[(0,t.jsx)(d.Z.Label,{children:"Repetir contrase\xf1a"}),(0,t.jsx)(d.Z.Control,{type:"password",placeholder:"Contrase\xf1a"})]})}),(0,t.jsx)(p.Z,{className:f().signButton,style:{width:"300px",display:"block"},type:"submit",children:n?"Registrate":"Inicia Sesi\xf3n"}),(0,t.jsx)(p.Z,{onClick:function(){return r(!n)},variant:"secondary",style:{width:"300px",display:"block"},children:n?"\xbfYa tienes cuenta? Inicia Sesi\xf3n":"\xbfNo tienes cuenta? Registrate"}),(0,t.jsx)("p",{className:f().forget,onClick:function(e){e.preventDefault(),sendPasswordResetEmail(v,email).then((function(){location.reload()})).catch((function(e){e.code,e.message}))},children:"\xbfOlvidaste la contrase\xf1a?"})]})]})},b=r(4691),_=r.n(b),y=r(1153),F=r(4899),k=r.n(F);function S(e){var n=e.data;return(0,t.jsxs)("div",{className:k().facturasWrapper,children:[(0,t.jsx)("h3",{children:"Facturas solicitadas via web"}),(0,t.jsx)("div",{className:k().facturas,children:(0,t.jsxs)("table",{children:[(0,t.jsx)("th",{children:"Ticket"}),(0,t.jsx)("th",{children:"Email cliente"}),(0,t.jsx)("th",{children:"Nombre"}),(0,t.jsx)("th",{children:"Calle"}),(0,t.jsx)("th",{children:"Colonia"}),(0,t.jsx)("th",{children:"C\xf3digo postal"}),(0,t.jsx)("th",{children:"Municipio"}),(0,t.jsx)("th",{children:"Regimen Fiscal"}),(0,t.jsx)("th",{children:"Uso de CFDI"}),(0,t.jsx)("th",{children:"Enviada"}),(0,t.jsx)("tbody",{children:n?n.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.ticket}),(0,t.jsx)("td",{children:e.email}),(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.calle}),(0,t.jsx)("td",{children:e.colonia}),(0,t.jsx)("td",{children:e.cpp}),(0,t.jsx)("td",{children:e.municipio}),(0,t.jsx)("td",{children:e.regimen}),(0,t.jsx)("td",{children:e.cfdi}),(0,t.jsx)("td",{children:!1===e.send?"No":"Si"})]},e.ticket)})):null})]})})]})}var Z=r(1818),I=r.n(Z),w=(0,y.cF)(x.Z),N=(0,j.ad)(x.Z);function P(){var e=new Date,n=e.toLocaleString("es-US",{month:"long"}),r=e.getFullYear(),s=e.getMonth(),i=(0,a.useState)(null),l=i[0],u=i[1],d=(0,a.useState)(!1),p=d[0],h=d[1],f=(0,a.useState)(null),x=f[0],m=f[1];(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=(0,j.IO)((0,j.hJ)(N,"facturas-solicitadas"),(0,j.ar)("send","==",!1)),e.next=4,(0,j.PL)(r);case 4:e.sent.forEach((function(e){n.unshift(e.data())})),u(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]);var v=function(){var e=(0,o.Z)(c().mark((function e(t,s){var i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,y.iH)(w,"facturas/".concat(r,"/").concat(n,"/").concat(s)),e.next=3,(0,y.KV)(i,t);case 3:return e.next=5,(0,y.Jt)(i).then((function(e){return e}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),g=function(){var n=(0,o.Z)(c().mark((function n(t){var i,a,o,l,u,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),i=t.target.ticket.value,a=t.target.email.value,o=x.size,null,l=null,u=(0,j.IO)((0,j.hJ)(N,"facturas-solicitadas"),(0,j.ar)("ticket","==",i)),n.next=9,(0,j.PL)(u);case 9:if(n.sent.forEach((function(e){l=e.id,e.data()})),!(i<3||""==a)){n.next=14;break}return alert("Ingrese un ticket mayor a 3 digitos y un correo valido"),n.abrupt("return");case 14:if(!(o>1e6)){n.next=17;break}return alert("El tama\xf1o del archivo debe ser menor a 1 MB"),n.abrupt("return");case 17:if(!x){n.next=24;break}return n.next=20,v(x,l);case 20:return d=n.sent,n.next=23,(0,j.r7)((0,j.JU)(N,"facturas-solicitadas/".concat(l)),{send:!0,url:d,uploadDate:e.getDate()+"/"+s+"/"+r});case 23:h(!p);case 24:document.getElementById("fileInput").value="",t.target.ticket.value="",t.target.email.value="";case 27:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)("form",{className:I().facturasInput,onSubmit:g,children:[(0,t.jsx)("label",{for:"fileInput",className:I().customFileUpload,children:"Seleccionar Factura"}),(0,t.jsx)("input",{type:"file",id:"fileInput",onChange:function(e){return m(e.target.files[0])}}),(0,t.jsx)("label",{htmlFor:"email",children:"Email cliente"}),(0,t.jsx)("input",{type:"email",placeholder:"Email cliente",id:"email"}),(0,t.jsx)("label",{htmlFor:"ticket",children:"Ticket"}),(0,t.jsx)("input",{type:"text",placeholder:"Numero de ticket",id:"ticket"}),(0,t.jsx)("button",{children:"Enviar"})]})}),(0,t.jsx)(S,{data:l})]})}var C=(0,j.ad)(x.Z);var E=function(e){var n=e.user,r=new Date,s=(r.toLocaleString("es-US",{month:"long"}),r.getFullYear()),i=r.getMonth(),l=(0,a.useState)(null),u=l[0],d=l[1],p=(0,a.useState)(null),h=p[0],f=p[1],x=n.doctor;function m(){return m=(0,o.Z)(c().mark((function e(r){var t,a,o,l,d,p,h,x,m,v,g,b,_;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=r.target.ticket.value,a=r.target.rfc.value,o=r.target.name.value,l=r.target.calle.value,d=r.target.Colonia.value,p=r.target.codigopostal.value,h=r.target.municipio.value,x=document.getElementById("regimen"),m=x.options[x.selectedIndex].text,v=document.getElementById("cfdi"),g=v.options[v.selectedIndex].text,b=n.email,_=u.some((function(e){return e.ticket===t})),0!==t.trim().length&&0!==a.trim().length&&0!==o.trim().length&&0!==l.trim().length&&0!==d.trim().length&&0!==p.trim().length&&0!==h.trim().length&&m.trim()&&g.trim()&&0!==b.trim().length){e.next=17;break}return alert("Debe llenar todos los espacios solicitados"),e.abrupt("return");case 17:if(!_){e.next=23;break}return alert("Este ticket ya fue ingresado anteriormente, revise en su bandeja de facturas."),console.warn("Ticket already registered."),e.abrupt("return");case 23:return e.next=25,(0,j.pl)((0,j.JU)(C,"facturas-solicitadas",s+"-"+i+"-"+t),{ticket:t,rfc:a,name:o,calle:l,colonia:d,cpp:p,municipio:h,regimen:m,cfdi:g,email:b,send:!1}).then((function(){t="",a="",o="",l="",d="",p="",h="",m="",g="",b=""}));case 25:f(t);case 26:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],t=(0,j.IO)((0,j.hJ)(C,"facturas-solicitadas"),(0,j.ar)("email","==",n.email)),e.next=4,(0,j.PL)(t);case 4:e.sent.forEach((function(e){r.unshift(e.data())})),d(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]),(0,t.jsxs)(t.Fragment,{children:[x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Subir Facturas"}),(0,t.jsx)(P,{})]}),!x&&(0,t.jsxs)("div",{className:_().formularioFacturas,children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["Rellena el formulario para poder enviar la factura ",(0,t.jsx)("br",{})," a el correo electr\xf3nico con el que iniciaste sesion."]}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Facturas solicitadas:"})}),u?u.map((function(e){return(0,t.jsxs)("p",{children:["Ticket: ",e.ticket]},e)})):(0,t.jsx)("p",{children:"No se han solicitado facturas a\xfan."})]}),(0,t.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[(0,t.jsx)("input",{type:"text",name:"ticket",id:"ticket",placeholder:"N\xfamero de ticket"}),(0,t.jsx)("input",{type:"text",name:"rfc",id:"rfc",placeholder:"RFC"}),(0,t.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Nombre"}),(0,t.jsx)("input",{type:"text",name:"apellidos",id:"apellidos",placeholder:"Apellidos"}),(0,t.jsxs)("div",{className:_().direccion,children:[(0,t.jsx)("input",{type:"text",name:"calle",id:"calle",placeholder:"Calle y numero"}),(0,t.jsx)("input",{type:"text",name:"Colonia",id:"Colonia",placeholder:"Colonia"}),(0,t.jsx)("input",{type:"text",name:"codigopostal",id:"codigopostal",placeholder:"C\xf3digo postal"}),(0,t.jsx)("input",{type:"text",name:"municipio",id:"municipio",placeholder:"Municipio/Delegaci\xf3n"})]}),(0,t.jsx)("label",{for:"regimen",children:"R\xe9gimen Fiscal"}),(0,t.jsxs)("select",{name:"regimen",id:"regimen",children:[(0,t.jsx)("option",{value:"0",children:"Por definir"}),(0,t.jsx)("option",{value:"605",children:"Sueldos y Salarios e Ingresos Asimilados a Salarios"}),(0,t.jsx)("option",{value:"612",children:"Personas F\xedsicas con Actividades Empresariales y Profesionales"}),(0,t.jsx)("option",{value:"616",children:"Sin obligaciones fiscales "}),(0,t.jsx)("option",{value:"611",children:"Ingresos por Dividendos (socios y accionistas)"}),(0,t.jsx)("option",{value:"621",children:"Incorporaci\xf3n Fiscal"}),(0,t.jsx)("option",{value:"629",children:"De los Reg\xedmenes Fiscales Preferentes y de las Empresas Multinacionales"}),(0,t.jsxs)("option",{value:"630",children:["Enajenaci\xf3n de acciones en bolsa de valores"," "]}),(0,t.jsx)("option",{value:"601",children:"General de Ley Personas Morales "}),(0,t.jsxs)("option",{value:"603",children:["Personas Morales con Fines no Lucrativos"," "]}),(0,t.jsxs)("option",{value:"620",children:["Sociedades Cooperativas de Producci\xf3n que optan por Diferir sus Ingresos"," "]}),(0,t.jsx)("option",{value:"623",children:"Opcional para Grupos de Sociedades "}),(0,t.jsx)("option",{value:"624",children:"Coordinados "}),(0,t.jsx)("option",{value:"628",children:"Hidrocarburos "})]}),(0,t.jsx)("label",{for:"cfdi",children:"Uso de CFDI:"}),(0,t.jsxs)("select",{name:"cfdi",id:"cfdi",children:[(0,t.jsx)("option",{value:"P01",children:"Por definir"}),(0,t.jsx)("option",{value:"G01",children:"Adquisici\xf3n de mercanc\xedas"}),(0,t.jsx)("option",{value:"G03",children:"Gastos en general"}),(0,t.jsx)("option",{value:"I01",children:"Construcciones"}),(0,t.jsx)("option",{value:"I02",children:"Mobiliario y equipo de oficina por inversiones"}),(0,t.jsx)("option",{value:"I03",children:"Equipo de transporte"}),(0,t.jsx)("option",{value:"I04",children:"Equipo de c\xf3mputo y accesorios"}),(0,t.jsx)("option",{value:"I05",children:"Dados, troqueles, moldes, matrices y herramental"}),(0,t.jsx)("option",{value:"I06",children:"Comunicaciones telef\xf3nicas"}),(0,t.jsx)("option",{value:"I07",children:"Otra maquinaria y equipo"}),(0,t.jsx)("option",{value:"I08",children:"Honorarios m\xe9dicos, dentales y gastos hospitalarios"}),(0,t.jsx)("option",{value:"D01",children:"Gasots m\xe9dicos por incapacidad o discapacidad"}),(0,t.jsx)("option",{value:"D02",children:"Gastos funerales"}),(0,t.jsx)("option",{value:"D04",children:"Donativos"}),(0,t.jsxs)("option",{value:"D05",children:["Intereses reales efectivamente pagados por cr\xe9ditos hipotecarios"," "]}),(0,t.jsx)("option",{value:"D06",children:"Aportaciones voluntarias al SAR"}),(0,t.jsx)("option",{value:"D07",children:"Primas por seguros de gastos m\xe9dicos"}),(0,t.jsx)("option",{value:"D08",children:"Gastos de transportaci\xf3n escolar obligatoria"}),(0,t.jsx)("option",{value:"D09",children:"Dep\xf3sitos en cuentas para el ahorro, primas que tengan como base planes de pensiones"}),(0,t.jsx)("option",{value:"D10",children:"Pagos por servicios educativos"})]}),(0,t.jsx)("button",{type:"submit",children:"Enviar"})]})]})]})},D=r(1799),L=r(9396),R=r(2206),M=r.n(R),A=(0,j.ad)(x.Z);function B(e){var n=e.perfil,r=(0,a.useState)(""),s=r[0],i=r[1],l=(0,a.useState)(""),u=l[0],d=l[1];(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,j.JU)(A,"users",n.uid),e.next=3,(0,j.QT)(r);case 3:(t=e.sent).exists&&i(t.data());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.uid,s.folio]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Datos del Perfil"}),(0,t.jsxs)("div",{className:"datosWrapper",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Correo:"})}),(0,t.jsx)("p",{children:s&&s.email}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Nombre:"})}),(0,t.jsx)("p",{children:s&&s.name}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Apellidos:"})}),(0,t.jsx)("p",{children:s&&s.last}),s.doctor?null:s&&s.folios?(0,t.jsxs)("ol",{className:M().foliosList,children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Folios:"})}),s.folios.map((function(e){return(0,t.jsxs)("li",{children:[e,(0,t.jsx)("button",{className:M().deleteBtn,onClick:function(){return function(e){var r=(0,j.JU)(A,"users",n.uid);(0,j.r7)(r,{folios:(0,j.Ab)(e)}).then((function(){(0,j.QT)(r).then((function(e){e.exists&&i((function(n){return(0,L.Z)((0,D.Z)({},n),{folios:e.data().folios})}))}))}))}(e)},children:"X"})]},e)}))]}):"No se han ingresado folios"]}),!s.doctor&&(0,t.jsxs)("form",{className:M().formFolios,onSubmit:function(e){if(e.preventDefault(),s.folios&&s.folios.length>=5)alert("No se pueden usar mas de 5 folios a la vez, favor de eliminar uno");else if(u.length>2){var r=(0,j.JU)(A,"users",n.uid);(0,j.r7)(r,{folios:(0,j.vr)(u)}).then((function(){(0,j.QT)(r).then((function(e){e.exists&&i((function(n){return(0,L.Z)((0,D.Z)({},n),{folios:e.data().folios})}))}))})),d("")}else alert("El folio debe ser un n\xfamero de m\xe1s de 3 digitos.")},children:[(0,t.jsx)("label",{htmlFor:"folios",children:(0,t.jsx)("strong",{children:"Ingresar nuevo folio:"})}),(0,t.jsx)("input",{type:"text",name:"folios",value:u,onChange:function(e){return d(e.target.value)}}),(0,t.jsx)("button",{type:"submit",className:M().folioBtn,children:"A\xf1adir"})]})]})}var J=r(797),q=r(5447),O=r.n(q),U=r(391),G=r.n(U);function T(e){var n=e.documents;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:G().tabla,children:(0,t.jsxs)("table",{children:[(0,t.jsx)("th",{children:"folio"}),(0,t.jsx)("th",{children:"Subido por"}),(0,t.jsx)("th",{children:"Email cliente"}),(0,t.jsx)("th",{children:"Fecha de subida"}),(0,t.jsx)("th",{children:"Archivo"}),(0,t.jsx)("tbody",{children:n&&n.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.folio}),(0,t.jsx)("td",{children:e.subido}),(0,t.jsx)("td",{children:e.email}),(0,t.jsx)("td",{children:e.uploadDate}),(0,t.jsx)("td",{children:(0,t.jsx)("a",{target:"_blank",href:e.url,children:"Ver"})})]},e.folio)}))})]})})})}var Q=(0,j.ad)(x.Z);function Y(e){var n=e.folios,r=e.user,s=(0,a.useState)(null),i=s[0],l=s[1];return(0,a.useEffect)((function(){function e(){return e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n.forEach(function(){var e=(0,o.Z)(c().mark((function e(n){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,j.IO)((0,j.hJ)(Q,"resultados"),(0,j.ar)("folio","==",n),(0,j.ar)("email","==",r.email)),e.next=3,(0,j.PL)(s);case 3:e.sent.forEach((function(e){t.unshift(e.data())}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),l(t);case 3:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"Mis Resultados"}),i&&(0,t.jsx)(T,{documents:i})]})}var V=(0,y.cF)(x.Z),W=(0,j.ad)(x.Z);function z(e){var n=e.perfil,r=(0,a.useState)(),s=r[0],i=r[1],l=(0,a.useState)(),u=l[0],d=l[1],p=new Date,h=p.toLocaleString("es-US",{month:"long"}),f=p.getFullYear(),x=p.getMonth();(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=(0,j.IO)((0,j.hJ)(W,"resultados")),e.next=4,(0,j.PL)(r);case 4:e.sent.forEach((function(e){n.push(e.data())})),d(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=function(){var e=(0,o.Z)(c().mark((function e(n,r){var t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,y.iH)(V,"resultados/".concat(f,"/").concat(h,"/").concat(r)),e.next=3,(0,y.KV)(t,n);case 3:return e.next=5,(0,y.Jt)(t).then((function(e){return e}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)(c().mark((function e(r){var t,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=r.target.folio.value,i=r.target.email.value,a=s.size,!(t<3||""==i)){e.next=7;break}return alert("Ingrese un folio mayor a 3 digitos y un correo valido"),e.abrupt("return");case 7:if(!(a>1e6)){e.next=10;break}return alert("El tama\xf1o del archivo debe ser menor a 1 MB"),e.abrupt("return");case 10:if(!s){e.next=16;break}return e.next=13,m(s,t);case 13:return o=e.sent,e.next=16,(0,j.pl)((0,j.JU)(W,"resultados",f+"-"+x+"-"+t),{name:s.name,folio:t,email:i,subido:n.name+" "+n.last,url:o,uploadDate:p.getDate()+"/"+x+"/"+f}).then(d((function(e){return[{name:s.name,folio:t,email:i,subido:n.name+" "+n.last,url:o,uploadDate:p.getDate()+"/"+x+"/"+f}].concat((0,J.Z)(e))})));case 16:document.getElementById("fileInput").value="",r.target.folio.value="",r.target.email.value="";case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:n.doctor?"Subir resultados":"Resultados"}),!n.doctor&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"En este lugar ver\xe1s tus resultados cuando est\xe9n disponibles"})}),(0,t.jsx)("p",{children:"Recuerda que el correo con el que te registres debe ser el mismo que proporcionaste el dia de tus estudios."}),(0,t.jsx)("p",{children:"Y puedes ir a la seccion de datos de perfil para agregar tus folios."}),(0,t.jsx)(Y,{folios:n.folios,user:n})]}),n.doctor&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("form",{className:O().upload,onSubmit:v,children:[(0,t.jsx)("label",{for:"fileInput",className:O().customFileUpload,children:"Seleccionar Archivo PDF"}),(0,t.jsx)("input",{id:"fileInput",type:"file",onChange:function(e){return i(e.target.files[0])}}),(0,t.jsxs)("p",{children:["Si el archivo es mayor a 1 MB se recomienda comprimirlo en el siguiente enlace ",(0,t.jsx)("br",{}),(0,t.jsx)("a",{target:"_blank",href:"https://www.ilovepdf.com/es/comprimir_pdf",children:"Comprimir"})]}),(0,t.jsx)("label",{htmlFor:"folio",children:"Folio:"}),(0,t.jsx)("input",{name:"folio",type:"text"}),(0,t.jsx)("label",{htmlFor:"email",children:"Correo del cliente:"}),(0,t.jsx)("input",{name:"email",type:"email"}),(0,t.jsx)("button",{children:"Subir"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(T,{documents:u})})]})]})}var H=r(1638),K=r.n(H),X=((0,y.cF)(x.Z),(0,j.ad)(x.Z));function $(e){var n=e.user,r=(0,a.useState)(),s=r[0],i=r[1];return(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],t=(0,j.IO)((0,j.hJ)(X,"facturas-solicitadas"),(0,j.ar)("email","==",n.email)),e.next=4,(0,j.PL)(t);case 4:e.sent.forEach((function(e){r.unshift(e.data())})),i(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{children:"Facturas"}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"En este lugar ver\xe1s tus facturas cuando est\xe9n disponibles"})}),(0,t.jsx)("p",{children:"Recuerda que el correo con el que te registres debe ser el mismo que proporcionaste el dia de tus estudios."}),(0,t.jsx)("p",{children:"Y puedes ir a la seccion de formulario de facturacion en el men\xfa para solicitar tus facturas."}),(0,t.jsx)("div",{className:K().facturas,children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Ticket"}),(0,t.jsx)("th",{children:"Fecha de subida"}),(0,t.jsx)("th",{children:"Archivo"})]})}),(0,t.jsx)("tbody",{children:s?s.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.ticket}),(0,t.jsx)("td",{children:e.uploadDate}),(0,t.jsx)("td",{children:e.url?(0,t.jsx)("a",{href:e.url,children:"Ver"}):"No disponible a\xfan"})]},e.ticket)})):null})]})})]})}var ee=(0,j.ad)(x.Z);(0,m.v0)(x.Z);var ne=function(e){var n=e.data,r=(0,a.useState)(!0),s=r[0],l=r[1],u=(0,a.useState)(!1),d=u[0],p=u[1],h=(0,a.useState)(!1),f=h[0],x=h[1],m=(0,a.useState)(!1),v=m[0],g=m[1],b=(0,a.useState)(null),_=b[0],y=b[1],F=(0,a.useState)(!1),k=F[0],S=F[1];return(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,j.JU)(ee,"users",n.uid),e.next=3,(0,j.QT)(r);case 3:(t=e.sent).exists&&(y(t.data()),S(t.data().doctor));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.uid]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:i().perfil,children:[(0,t.jsxs)("div",{className:i().menuPerfil,children:[(0,t.jsxs)("div",{className:i().menuOptions,onClick:function(){l(!0),p(!1),x(!1),g(!1)},children:[(0,t.jsx)("img",{src:"./images/iconos-ui/corazon-pc.png",width:50,height:50,alt:""}),(0,t.jsx)("p",{children:"Datos del Perfil"})]}),(0,t.jsxs)("div",{className:i().menuOptions,onClick:function(){l(!1),p(!0),x(!1),g(!1)},children:[(0,t.jsx)("img",{src:"./images/iconos-ui/resultados.png",width:50,height:50,alt:""}),(0,t.jsx)("p",{children:k?"Subir Resultados":"Resultados"})]}),(0,t.jsxs)("div",{className:i().menuOptions,onClick:function(){l(!1),p(!1),x(!0),g(!1)},children:[(0,t.jsx)("img",{src:"./images/iconos-ui/solicitar-facturas.png",width:50,height:50,alt:""}),(0,t.jsx)("p",{children:k?"Subir factura":"Solicitar factura"})]}),!k&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:i().menuOptions,onClick:function(){l(!1),p(!1),x(!1),g(!0)},children:[(0,t.jsx)("img",{src:"./images/iconos-ui/facturacion.png",width:50,height:50,alt:""}),(0,t.jsx)("p",{children:"Facturas"})]})})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:i().datosPerfil,children:[s&&(0,t.jsx)(B,{perfil:n}),d&&(0,t.jsx)(z,{perfil:_}),f&&(0,t.jsx)(E,{user:_}),v&&(0,t.jsx)($,{user:_})]})})]})})},re=r(8995),te=r(6124),se=(0,m.v0)(x.Z);(0,j.ad)(x.Z);var ie=function(){var e=(0,a.useState)(null),n=e[0],r=e[1];return(0,m.Aj)(se,(function(e){r(e||null)})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("nav",{className:i().navMenuPerfil,children:[(0,t.jsx)(re.Z,{}),n&&(0,t.jsx)("button",{onClick:function(){return(0,m.w7)(se)},children:"Cerrar Sesi\xf3n"})]}),n?(0,t.jsx)(ne,{data:n}):(0,t.jsx)(g,{}),(0,t.jsx)(te.Z,{})]})}},2206:function(e){e.exports={formFolios:"DatosPerfil_formFolios__TVYnm",foliosList:"DatosPerfil_foliosList___025n",deleteBtn:"DatosPerfil_deleteBtn__fmVSx"}},1638:function(e){e.exports={facturas:"FacturasPerfil_facturas__R2WSZ"}},4679:function(e){e.exports={footer:"Footer_footer__BcpJO",footerPagina:"Footer_footerPagina__SF8We"}},4691:function(e){e.exports={formularioFacturas:"FormularioFacturas_formularioFacturas__J5OKf",direccion:"FormularioFacturas_direccion__pssCm",radio:"FormularioFacturas_radio__ElBHc"}},1818:function(e){e.exports={facturasInput:"IngresarFacturas_facturasInput__mER15",customFileUpload:"IngresarFacturas_customFileUpload__87D1y"}},1109:function(e){e.exports={logComponent:"IniciarSesionForm_logComponent__7hiNA",forget:"IniciarSesionForm_forget__nZP6A",signButton:"IniciarSesionForm_signButton__sYRsQ"}},2901:function(e){e.exports={logo:"LQGIcon_logo__2OKus"}},1102:function(e){e.exports={perfil:"MenuPerfil_perfil__CPmqg",datosPerfil:"MenuPerfil_datosPerfil__GE5J2",menuPerfil:"MenuPerfil_menuPerfil__7HAQF",menuOptions:"MenuPerfil_menuOptions__L0Kxo",navMenuPerfil:"MenuPerfil_navMenuPerfil__mBrug"}},5447:function(e){e.exports={upload:"ResultadosPerfil_upload__D_nfg",customFileUpload:"ResultadosPerfil_customFileUpload__5g2R4"}},4899:function(e){e.exports={facturasWrapper:"TablaFacturas_facturasWrapper__FTX9c",facturas:"TablaFacturas_facturas___zflG"}},391:function(e){e.exports={tabla:"TableDocuments_tabla__P3kow"}}},function(e){e.O(0,[16,871,590,404,309,774,888,179],(function(){return n=7443,e(e.s=n);var n}));var n=e.O();_N_E=n}]);